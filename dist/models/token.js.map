{"version":3,"sources":["models/token.js"],"names":[],"mappings":";;;;;;;;AAIA;;;;;;AACA,mBAAS,OAAT,GAAmB,OAAO,OAA1B,C,CALA;;;;AAOA,IAAM,QAAQ,IAAI,mBAAS,MAAb,CAAoB;AAC9B,UAAM,EAAC,MAAM,MAAP,EADwB;AAE9B,YAAQ,EAAC,MAAM,MAAP,EAAe,UAAU,IAAzB,EAFsB;AAG9B,WAAO,EAAC,MAAM,MAAP,EAAe,UAAU,IAAzB,EAHuB;AAI9B,eAAW,EAAC,MAAM,MAAP,EAAe,SAAS,CAAxB,EAJmB;AAK9B,UAAM,EAAC,MAAM,MAAP,EAAe,SAAS,CAAxB;AALwB,CAApB,CAAd;;AAQA,MAAM,GAAN,CAAU,MAAV;AAAA,gEAAkB,iBAAuB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AACR,4BADQ,GACD,IADC;;AAEd,4BAAI,KAAK,SAAL,IAAkB,CAAtB,EAAyB;AACrB,iCAAK,SAAL,GAAiB,KAAK,GAAL,EAAjB;AACH;AAJa,yDAKP,MALO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAlB;;AAAA,aAAiC,OAAjC;AAAA;AAAA;;AAAA,WAAiC,OAAjC;AAAA;;kBAQe,mBAAS,KAAT,CAAe,OAAf,EAAwB,KAAxB,C","file":"models/token.js","sourcesContent":["/**\n * Created by Bell on 16/8/24.\n */\n\nimport mongoose from 'mongoose';\nmongoose.Promise = global.Promise;\n\nconst Token = new mongoose.Schema({\n    name: {type: String},\n    userid: {type: String, required: true},\n    token: {type: String, required: true},\n    timestamp: {type: Number, default: 0},\n    type: {type: Number, default: 0}\n});\n\nToken.pre('save', async function preSave(next) {\n    const user = this;\n    if (user.timestamp <= 0) {\n        user.timestamp = Date.now();\n    }\n    return next();\n});\n\nexport default mongoose.model('token', Token);\n"],"sourceRoot":"/source/"}