{"version":3,"sources":["routes/project.js"],"names":[],"mappings":";;;;;;AAMA;;AACA;;IAAY,O;;AACZ;;IAAY,K;;;;AARZ;;;;AAIA,IAAM,SAAS,QAAQ,YAAR,CAAf;;AAMA,IAAI,WAAW,WAAf;AACA,IAAI,SAAS,IAAI,MAAJ,CAAW,EAAE,QAAQ,QAAV,EAAX,CAAb;;AAEA,OACK,GADL,CACS,GADT,yCACyC,QAAQ,OADjD,EAEK,IAFL,CAEU,GAFV,oBAE2B,QAAQ,MAFnC,EAGK,GAHL,CAGS,KAHT,oBAG4B,QAAQ,MAHpC,EAIK,IAJL,CAIU,aAJV,oBAIqC,QAAQ,YAJ7C,EAKK,GALL,CAKS,MALT,oBAK6B,QAAQ,MALrC,EAMK,IANL,CAMU,MANV,oBAM8B,QAAQ,MANtC,EAOK,MAPL,CAOY,MAPZ,oBAOgC,QAAQ,GAPxC,EAQK,IARL,CAQU,mBARV,oBAQ2C,QAAQ,SARnD,EASK,GATL,CASS,mBATT,oBAS0C,QAAQ,WATlD,EAUK,MAVL,CAUY,2BAVZ,oBAUqD,QAAQ,SAV7D,EAWK,IAXL,CAWU,mBAXV,oBAW2C,MAAM,MAXjD,EAYK,GAZL,CAYS,mBAZT,oBAY0C,MAAM,IAZhD,EAaK,GAbL,CAaS,oBAbT,oBAa2C,MAAM,mBAbjD;;kBAee;AACX,sBADW;AAEX,YAAQ;AAFG,C","file":"routes/project.js","sourcesContent":["/**\n * Created by Bell on 16/8/25.\n */\n\nconst Router = require('koa-router');\n\nimport { ensureUser,ensureManager } from '../tools/auth';\nimport * as project from '../controllers/project';\nimport * as patch from '../controllers/patch';\n\nlet base_url = '/projects';\nlet router = new Router({ prefix: base_url });\n\nrouter\n    .get('/', ensureUser, ensureManager, project.listAll)\n    .post('/', ensureUser, project.create)\n    .get('/my', ensureUser, project.listMy)\n    .post('/:id/status', ensureUser, project.updateStatus)\n    .get('/:id', ensureUser, project.detail)\n    .post('/:id', ensureUser, project.update)\n    .delete('/:id', ensureUser, project.del)\n    .post('/:project/members', ensureUser, project.addMember)\n    .get('/:project/members', ensureUser, project.listMembers)\n    .delete('/:project/members/:member', ensureUser, project.delMember)\n    .post('/:project/patches', ensureUser, patch.create)\n    .get('/:project/patches', ensureUser, patch.list)\n    .get('/:project/versions', ensureUser, patch.listProjectVersions);\n\nexport default {\n    base_url,\n    router: router\n};\n"],"sourceRoot":"/source/"}