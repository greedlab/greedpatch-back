{"version":3,"sources":["routes/project.js"],"names":[],"mappings":";;;;;;AAMA;;AACA;;IAAY,O;;AACZ;;IAAY,K;;;;AARZ;;;;AAIA,IAAM,SAAS,QAAQ,YAAR,CAAf;;AAMA,IAAI,WAAW,WAAf;AACA,IAAI,SAAS,IAAI,MAAJ,CAAW,EAAE,QAAQ,QAAV,EAAX,CAAb;;AAEA,OACK,GADL,CACS,GADT,yCACyC,QAAQ,OADjD,EAEK,IAFL,CAEU,GAFV,oBAE2B,QAAQ,MAFnC,EAGK,GAHL,CAGS,KAHT,oBAG4B,QAAQ,MAHpC,EAIK,GAJL,CAIS,MAJT,oBAI6B,QAAQ,MAJrC,EAKK,IALL,CAKU,MALV,oBAK8B,QAAQ,MALtC,EAMK,MANL,CAMY,MANZ,oBAMgC,QAAQ,GANxC,EAOK,IAPL,CAOU,mBAPV,oBAO2C,QAAQ,SAPnD,EAQK,GARL,CAQS,mBART,oBAQ0C,QAAQ,WARlD,EASK,MATL,CASY,2BATZ,oBASqD,QAAQ,SAT7D,EAUK,IAVL,CAUU,mBAVV,oBAU2C,MAAM,MAVjD,EAWK,GAXL,CAWS,mBAXT,oBAW0C,MAAM,IAXhD,EAYK,GAZL,CAYS,oBAZT,oBAY2C,MAAM,mBAZjD;;kBAce;AACX,sBADW;AAEX,YAAQ;AAFG,C","file":"routes/project.js","sourcesContent":["/**\n * Created by Bell on 16/8/25.\n */\n\nconst Router = require('koa-router');\n\nimport { ensureUser,ensureManager } from '../tools/auth';\nimport * as project from '../controllers/project';\nimport * as patch from '../controllers/patch';\n\nlet base_url = '/projects';\nlet router = new Router({ prefix: base_url });\n\nrouter\n    .get('/', ensureUser, ensureManager, project.listAll)\n    .post('/', ensureUser, project.create)\n    .get('/my', ensureUser, project.listMy)\n    .get('/:id', ensureUser, project.detail)\n    .post('/:id', ensureUser, project.update)\n    .delete('/:id', ensureUser, project.del)\n    .post('/:project/members', ensureUser, project.addMember)\n    .get('/:project/members', ensureUser, project.listMembers)\n    .delete('/:project/members/:member', ensureUser, project.delMember)\n    .post('/:project/patches', ensureUser, patch.create)\n    .get('/:project/patches', ensureUser, patch.list)\n    .get('/:project/versions', ensureUser, patch.listProjectVersions);\n\nexport default {\n    base_url,\n    router: router\n};\n"],"sourceRoot":"/source/"}