{"version":3,"sources":["routes/project.js"],"names":[],"mappings":";;;;;;AAMA;;AACA;;IAAY,O;;AACZ;;IAAY,K;;;;AARZ;;;;AAIA,IAAM,SAAS,QAAQ,YAAR,CAAf;;AAMA,IAAI,WAAW,WAAf;AACA,IAAI,SAAS,IAAI,MAAJ,CAAW,EAAE,QAAQ,QAAV,EAAX,CAAb;;AAEA,OACK,IADL,CACU,GADV,oBAC2B,QAAQ,GADnC,EAEK,IAFL,CAEU,MAFV,oBAE8B,QAAQ,MAFtC,EAGK,MAHL,CAGY,MAHZ,oBAGgC,QAAQ,GAHxC,EAIK,GAJL,CAIS,GAJT,yCAIyC,QAAQ,OAJjD,EAKK,GALL,CAKS,KALT,oBAK4B,QAAQ,MALpC,EAMK,GANL,CAMS,MANT,oBAM6B,QAAQ,MANrC,EAOK,IAPL,CAOU,mBAPV,oBAO2C,QAAQ,SAPnD,EAQK,GARL,CAQS,mBART,oBAQ0C,QAAQ,WARlD,EASK,MATL,CASY,2BATZ,oBASqD,QAAQ,SAT7D,EAUK,IAVL,CAUU,mBAVV,oBAU2C,MAAM,GAVjD,EAWK,GAXL,CAWS,mBAXT,oBAW0C,MAAM,IAXhD;;kBAae;AACX,aAAS,QADE;AAEX,YAAQ;AAFG,C","file":"routes/project.js","sourcesContent":["/**\n * Created by Bell on 16/8/25.\n */\n\nconst Router = require('koa-router');\n\nimport { ensureUser,ensureManager } from '../tools/auth';\nimport * as project from '../controllers/project';\nimport * as patch from '../controllers/patch';\n\nlet base_url = '/projects';\nlet router = new Router({ prefix: base_url });\n\nrouter\n    .post('/', ensureUser, project.add)\n    .post('/:id', ensureUser, project.update)\n    .delete('/:id', ensureUser, project.del)\n    .get('/', ensureUser, ensureManager, project.listAll)\n    .get('/my', ensureUser, project.listMy)\n    .get('/:id', ensureUser, project.detail)\n    .post('/:project/members', ensureUser, project.addMember)\n    .get('/:project/members', ensureUser, project.listMembers)\n    .delete('/:project/members/:member', ensureUser, project.delMember)\n    .post('/:project/patches', ensureUser, patch.add)\n    .get('/:project/patches', ensureUser, patch.list);\n\nexport default {\n    baseUrl: base_url,\n    router: router\n};\n"],"sourceRoot":"/source/"}