{"version":3,"sources":["utils/token.js"],"names":[],"mappings":";;;;;;;;;;gEAMO,iBAAyB,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE,MADF;AAAA;AAAA;AAAA;;AAAA,yDAEQ,KAFR;;AAAA;AAAA;AAAA,+BAIG,gBAAM,MAAN,CAAa,EAAC,cAAD,EAAS,QAAQ,CAAjB,EAAb,CAJH;;AAAA;AAAA,yDAKI,IALJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAe,S;;;KANtB;;;;;iEAcO,kBAAyB,MAAzB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE,MADF;AAAA;AAAA;AAAA;;AAAA,0DAEQ,IAFR;;AAAA;AAAA;AAAA,+BAIgB,gBAAM,IAAN,CAAW,EAAC,cAAD,EAAS,QAAQ,CAAjB,EAAX,CAJhB;;AAAA;AAIG,4BAJH;AAKC,6BALD,GAKS,IAAI,KAAJ,EALT;AAAA;AAAA;AAAA;AAAA;;AAMH,yCAAgB,IAAhB,uHAAsB;AAAb,+BAAa;;AAClB,gCAAI,IAAI,KAAR,EAAe;AACX,sCAAM,IAAN,CAAW,IAAI,KAAf;AACH;AACJ;AAVE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,0DAWI,KAXJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAe,S;;;;;;iEAcf,kBAAyB,KAAzB,EAAgC,IAAhC,EAAsC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACE,KADF;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAIC,8BAJD,GAIU,EAAC,YAAD,EAJV;;AAKH,4BAAI,IAAJ,EAAU;AACN,mCAAO,IAAP,GAAc,IAAd;AACH;AACD,4BAAI,IAAJ,EAAU;AACN,mCAAO,IAAP,GAAc,IAAd;AACH;AACK,oCAXH,GAWkB,oBAAU,MAAV,CAXlB;AAAA;AAAA,+BAYG,aAAa,IAAb,EAZH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAe,S;;;;;AAxBtB","file":"utils/token.js","sourcesContent":["/**\n * Created by Bell on 16/8/24.\n */\n\nimport Token from '../models/token';\n\nexport async function delTokens(userid) {\n    if (!userid) {\n        return false;\n    }\n    await Token.remove({userid, status: 0});\n    return true;\n}\n\nexport async function getTokens(userid) {\n    if (!userid) {\n        return null;\n    }\n    const docs = await Token.find({userid, status: 0});\n    let array = new Array();\n    for (let doc of docs) {\n        if (doc.token) {\n            array.push(doc.token);\n        }\n    }\n    return array;\n}\n\nexport async function saveToken(token, name, type) {\n    if (!token) {\n        return;\n    }\n    let object = {token};\n    if (name) {\n        object.name = name;\n    }\n    if (type) {\n        object.type = type;\n    }\n    const token_object = new Token(object);\n    await token_object.save();\n}"],"sourceRoot":"/source/"}